(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),c=a.n(r),s=(a(15),a(1)),m=a(3),o=a.n(m);a(16);var i=()=>{const[e,t]=Object(n.useState)(null),[a,r]=Object(n.useState)([]),[c,m]=Object(n.useState)([]),[i,d]=Object(n.useState)([]),[h,p]=Object(n.useState)(!1),[u,b]=Object(n.useState)(0),[g,E]=Object(n.useState)(!1),[f,N]=Object(n.useState)(""),[y,v]=Object(n.useState)(!0),[x,w]=Object(n.useState)(1),[C,k]=Object(n.useState)(10),[T,F]=Object(n.useState)({series:"",numberFrom:"",numberTo:"",wishlistsFrom:"",wishlistsTo:"",editions:[],morphed:!1,trimmed:!1,frame:!1,hasDyeName:!1,tag:"",noneTag:!1}),S=Math.ceil(i.length/C);Object(n.useEffect)(()=>{const e=localStorage.getItem("theme");e&&v("dark"===e),j("dark"===e||null===e&&y)},[]);const j=e=>{e?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")},O=e=>new Promise((t,a)=>{const n=new FileReader;n.onload=(e=>t(e.target.result)),n.onerror=(e=>a(e)),n.readAsText(e)});Object(n.useEffect)(()=>{e||(r([]),m([]),d([]))},[e]);const I=e=>{const{name:t,value:a,type:n,checked:l}=e.target;F(Object(s.a)(Object(s.a)({},T),{},{[t]:"checkbox"===n?l:a}))};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"theme-switch-container"},l.a.createElement("span",{className:"theme-icon"},"\u2600\ufe0f"),l.a.createElement("label",{className:"theme-switch"},l.a.createElement("input",{type:"checkbox",checked:y,onChange:()=>{const e=!y;v(e),j(e),localStorage.setItem("theme",e?"dark":"light")}}),l.a.createElement("span",{className:"slider"})),l.a.createElement("span",{className:"theme-icon"},"\ud83c\udf19")),l.a.createElement("h1",{className:"header"},"Card Filter Application"),l.a.createElement("div",{className:"card"},l.a.createElement("h2",null,"Upload CSV File"),l.a.createElement("input",{type:"file",accept:".csv, .txt",onChange:async e=>{const a=e.target.files[0];if(t(a),a){p(!0);const e=await O(a);o.a.parse(e,{header:!0,complete:e=>{r(e.data),m(e.data),d(e.data),p(!1)},error:e=>{console.error("Error parsing CSV:",e),p(!1)}})}},className:"mb-2"}),h&&l.a.createElement("p",null,"Loading data..."),!h&&a.length>0&&l.a.createElement("p",{className:"text-success"},"Loaded ",a.length," records."),!h&&0===a.length&&!e&&l.a.createElement("p",null,"No data loaded. Please upload a CSV or TXT file."),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Prefix for card codes:"),l.a.createElement("input",{type:"text",value:f,onChange:e=>N(e.target.value),className:"form-input",placeholder:"Enter prefix (e.g. 'kt t1')"}),l.a.createElement("p",{className:"text-gray-500 text-sm mt-1"},"This text will be added before each card code when copying or downloading."))),l.a.createElement("div",{className:"card"},l.a.createElement("h2",null,"Filters"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Series:"),l.a.createElement("input",{type:"text",name:"series",value:T.series,onChange:I,className:"form-input",placeholder:"Enter series name..."})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Number:"),l.a.createElement("div",{className:"flex gap-2"},l.a.createElement("input",{type:"number",name:"numberFrom",value:T.numberFrom,onChange:I,className:"form-input",placeholder:"From"}),l.a.createElement("input",{type:"number",name:"numberTo",value:T.numberTo,onChange:I,className:"form-input",placeholder:"To"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Wishlists:"),l.a.createElement("div",{className:"flex gap-2"},l.a.createElement("input",{type:"number",name:"wishlistsFrom",value:T.wishlistsFrom,onChange:I,className:"form-input",placeholder:"From"}),l.a.createElement("input",{type:"number",name:"wishlistsTo",value:T.wishlistsTo,onChange:I,className:"form-input",placeholder:"To"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Tag:"),l.a.createElement("div",{className:"flex gap-2"},l.a.createElement("input",{type:"text",name:"tag",value:T.tag,onChange:I,className:"form-input",placeholder:"Enter tag...",disabled:T.noneTag}),l.a.createElement("button",{onClick:()=>F(Object(s.a)(Object(s.a)({},T),{},{noneTag:!T.noneTag,tag:T.noneTag?T.tag:""})),className:"btn ".concat(T.noneTag?"btn-primary":"btn-secondary"),title:"Show only cards with no tag"},"None Tag")),T.noneTag&&l.a.createElement("p",{className:"text-info",style:{fontSize:"0.75rem",marginTop:"0.25rem"}},"Showing only cards with no tag. Tag search is disabled.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Editions:"),l.a.createElement("div",{className:"flex flex-wrap gap-2"},(0===a.length?[]:[...new Set(a.map(e=>e.edition))].sort((e,t)=>parseInt(e)-parseInt(t))).map(e=>l.a.createElement("button",{key:e,onClick:()=>(e=>{const t=[...T.editions];if(t.includes(e)){const a=t.indexOf(e);t.splice(a,1)}else t.push(e);F(Object(s.a)(Object(s.a)({},T),{},{editions:t}))})(e),className:"chip ".concat(T.editions.includes(e)?"chip-blue":"chip-gray")},e)))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"flex flex-wrap gap-2"},l.a.createElement("div",{className:"checkbox-container"},l.a.createElement("input",{type:"checkbox",id:"morphed",name:"morphed",checked:T.morphed,onChange:I,className:"checkbox"}),l.a.createElement("label",{htmlFor:"morphed",className:"checkbox-label"},"Morphed")),l.a.createElement("div",{className:"checkbox-container"},l.a.createElement("input",{type:"checkbox",id:"trimmed",name:"trimmed",checked:T.trimmed,onChange:I,className:"checkbox"}),l.a.createElement("label",{htmlFor:"trimmed",className:"checkbox-label"},"Trimmed")),l.a.createElement("div",{className:"checkbox-container"},l.a.createElement("input",{type:"checkbox",id:"frame",name:"frame",checked:T.frame,onChange:I,className:"checkbox"}),l.a.createElement("label",{htmlFor:"frame",className:"checkbox-label"},"With Frame")),l.a.createElement("div",{className:"checkbox-container"},l.a.createElement("input",{type:"checkbox",id:"hasDyeName",name:"hasDyeName",checked:T.hasDyeName,onChange:I,className:"checkbox"}),l.a.createElement("label",{htmlFor:"hasDyeName",className:"checkbox-label"},"With dye.name")))),l.a.createElement("div",{className:"flex gap-2"},l.a.createElement("button",{onClick:()=>{let e=[...a];T.series&&(e=e.filter(e=>e.series.toLowerCase().includes(T.series.toLowerCase()))),T.numberFrom&&(e=e.filter(e=>parseInt(e.number)>=parseInt(T.numberFrom))),T.numberTo&&(e=e.filter(e=>parseInt(e.number)<=parseInt(T.numberTo))),T.wishlistsFrom&&(e=e.filter(e=>parseInt(e.wishlists)>=parseInt(T.wishlistsFrom))),T.wishlistsTo&&(e=e.filter(e=>parseInt(e.wishlists)<=parseInt(T.wishlistsTo))),T.editions.length>0&&(e=e.filter(e=>T.editions.includes(e.edition))),T.morphed&&(e=e.filter(e=>"Yes"===e.morphed)),T.trimmed&&(e=e.filter(e=>"Yes"===e.trimmed)),T.frame&&(e=e.filter(e=>""!==e.frame)),T.hasDyeName&&(e=e.filter(e=>""!==e["dye.name"])),T.tag&&(e=e.filter(e=>e.tag.toLowerCase().includes(T.tag.toLowerCase()))),T.noneTag&&(e=e.filter(e=>!e.tag||""===e.tag.trim())),m(e),d(e),w(1),b(0),E(!1)},className:"btn btn-primary"},"Apply Filters"),l.a.createElement("button",{onClick:()=>{F({series:"",numberFrom:"",numberTo:"",wishlistsFrom:"",wishlistsTo:"",editions:[],morphed:!1,trimmed:!1,frame:!1,hasDyeName:!1,tag:"",noneTag:!1}),m(a),d(a),b(0),E(!1)},className:"btn btn-secondary"},"Reset Filters"))),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"flex",style:{justifyContent:"space-between",marginBottom:"1rem"}},l.a.createElement("h2",null,"Results ",a.length>0?"(".concat(i.length,"/").concat(c.length,")"):""),l.a.createElement("div",{className:"flex gap-2"},l.a.createElement("button",{onClick:()=>{const e=Math.ceil(c.length/50);if(u>=e||g)return b(0),E(!1),void d([...c]);const t=50*u,a=Math.min(t+50,c.length),n=c.slice(t,a);let l;l=f.trim()?n.map(e=>"".concat(f," ").concat(e.code)).join(", "):n.map(e=>e.code).join(", "),navigator.clipboard.writeText(l),alert("Copied codes ".concat(t+1,"-").concat(a," of ").concat(c.length));const r=i.filter(e=>!n.some(t=>t.code===e.code));d(r),b(u+1),a>=c.length&&E(!0)},disabled:0===c.length,className:"btn ".concat(0===c.length?"btn-secondary":"btn-success")},(()=>{const e=Math.ceil(c.length/50);if(0===c.length)return"Copy Codes (max 50)";if(u>=e||g)return"Restore & Start Over";const t=50*u;return Math.min(t+50,c.length),"Copy Codes (".concat(t,"/").concat(c.length,")")})()),l.a.createElement("button",{onClick:()=>{let e="";for(let l=0;l<c.length;l+=50){const t=c.slice(l,l+50);f.trim()?e+=f+" "+t.map(e=>e.code).join(", ")+"\n":e+=t.map(e=>e.code).join(", ")+"\n"}const t=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="card_codes.txt",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)},disabled:0===c.length,className:"btn ".concat(0===c.length?"btn-secondary":"btn-purple")},"Download as .txt"))),i.length>0?l.a.createElement("div",{style:{overflowX:"auto",maxHeight:"500px",overflowY:"auto"}},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Number"),l.a.createElement("th",null,"Edition"),l.a.createElement("th",null,"Character"),l.a.createElement("th",null,"Series"),l.a.createElement("th",null,"Quality"),l.a.createElement("th",null,"Wishlists"),l.a.createElement("th",null,"Frame"),l.a.createElement("th",null,"Tag"))),l.a.createElement("tbody",null,(()=>{const e=(x-1)*C,t=e+C;return i.slice(e,t)})().map((e,t)=>l.a.createElement("tr",{key:t},l.a.createElement("td",{style:{color:"#3b82f6",fontWeight:500}},e.code),l.a.createElement("td",null,e.number),l.a.createElement("td",null,e.edition),l.a.createElement("td",null,e.character),l.a.createElement("td",null,e.series),l.a.createElement("td",null,e.quality),l.a.createElement("td",null,e.wishlists),l.a.createElement("td",null,e.frame||"\u2014"),l.a.createElement("td",null,e.tag)))))):l.a.createElement("p",{style:{textAlign:"center",padding:"1rem"}},e?"No results matching the filter criteria.":"No data loaded. Please upload a file to see results."),i.length>100&&l.a.createElement("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem"}},"Showing first 100 of ",i.length," records."),i.length>0&&l.a.createElement("div",{className:"pagination-container",style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem"}},l.a.createElement("button",{onClick:()=>w(1),disabled:1===x,className:"btn ".concat(1===x?"btn-secondary":"btn-primary"),title:"First Page"},"\xab"),l.a.createElement("button",{onClick:()=>w(e=>Math.max(e-1,1)),disabled:1===x,className:"btn ".concat(1===x?"btn-secondary":"btn-primary"),title:"Previous Page"},"\u2039"),l.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},l.a.createElement("span",null,"Page"),l.a.createElement("input",{type:"number",min:"1",max:S,value:x,onChange:e=>{const t=parseInt(e.target.value);!isNaN(t)&&t>=1&&t<=S&&w(t)},style:{width:"50px",textAlign:"center",padding:"0.25rem"},className:"form-input"}),l.a.createElement("span",null,"of ",S)),l.a.createElement("button",{onClick:()=>w(e=>Math.min(e+1,S)),disabled:x===S,className:"btn ".concat(x===S?"btn-secondary":"btn-primary"),title:"Next Page"},"\u203a"),l.a.createElement("button",{onClick:()=>w(S),disabled:x===S,className:"btn ".concat(x===S?"btn-secondary":"btn-primary"),title:"Last Page"},"\xbb"),l.a.createElement("div",{style:{marginLeft:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"}},l.a.createElement("span",null,"Show"),l.a.createElement("select",{value:C,onChange:e=>{const t=parseInt(e.target.value);k(t),w(1)},className:"form-input",style:{padding:"0.25rem"}},l.a.createElement("option",{value:"5"},"5"),l.a.createElement("option",{value:"10"},"10"),l.a.createElement("option",{value:"25"},"25"),l.a.createElement("option",{value:"50"},"50"),l.a.createElement("option",{value:"100"},"100")),l.a.createElement("span",null,"per page"))),c.length!==i.length&&l.a.createElement("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem",color:"#3b82f6"}},"Displaying only ",i.length," of ",c.length," records (remaining have already been copied).")))};var d=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i,null))),d()},6:function(e,t,a){e.exports=a(17)}},[[6,1,2]]]);
//# sourceMappingURL=main.25f6d670.chunk.js.map