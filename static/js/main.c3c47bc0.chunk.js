(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(5),c=a.n(r),s=(a(15),a(1)),o=a(3),m=a.n(o);a(16);var i=()=>{const[e,t]=Object(l.useState)(null),[a,r]=Object(l.useState)([]),[c,o]=Object(l.useState)([]),[i,d]=Object(l.useState)([]),[h,u]=Object(l.useState)(!1),[p,b]=Object(l.useState)(0),[E,g]=Object(l.useState)(!1),[f,N]=Object(l.useState)({series:"",numberFrom:"",numberTo:"",wishlistsFrom:"",wishlistsTo:"",editions:[],morphed:!1,trimmed:!1,frame:!1,hasDyeName:!1,tag:""}),y=e=>new Promise((t,a)=>{const l=new FileReader;l.onload=(e=>t(e.target.result)),l.onerror=(e=>a(e)),l.readAsText(e)});Object(l.useEffect)(()=>{const t=e=>{m.a.parse(e,{header:!0,complete:e=>{r(e.data),o(e.data),d(e.data)},error:e=>{console.error("Error parsing CSV:",e)}})};e||(async()=>{try{if(window.fs)try{const a=await window.fs.readFile("paste.txt",{encoding:"utf8"});return void t(a)}catch(e){console.log("Could not load from fs, trying fetch",e)}try{const e=await fetch("paste.txt"),l=await e.text();t(l)}catch(a){console.error("Error fetching example data:",a)}}catch(l){console.error("Error loading example data:",l)}})()},[e]);const w=()=>{let e=[...a];f.series&&(e=e.filter(e=>e.series.toLowerCase().includes(f.series.toLowerCase()))),f.numberFrom&&(e=e.filter(e=>parseInt(e.number)>=parseInt(f.numberFrom))),f.numberTo&&(e=e.filter(e=>parseInt(e.number)<=parseInt(f.numberTo))),f.wishlistsFrom&&(e=e.filter(e=>parseInt(e.wishlists)>=parseInt(f.wishlistsFrom))),f.wishlistsTo&&(e=e.filter(e=>parseInt(e.wishlists)<=parseInt(f.wishlistsTo))),f.editions.length>0&&(e=e.filter(e=>f.editions.includes(e.edition))),f.morphed&&(e=e.filter(e=>"Yes"===e.morphed)),f.trimmed&&(e=e.filter(e=>"Yes"===e.trimmed)),f.frame&&(e=e.filter(e=>""!==e.frame)),f.hasDyeName&&(e=e.filter(e=>""!==e["dye.name"])),f.tag&&(e=e.filter(e=>e.tag.toLowerCase().includes(f.tag.toLowerCase()))),o(e),d(e),b(0),g(!1)},x=e=>{const{name:t,value:a,type:l,checked:n}=e.target,r=Object(s.a)(Object(s.a)({},f),{},{[t]:"checkbox"===l?n:a});N(r),setTimeout(()=>{w()},0)};return n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"header"},"Card Filter Application"),n.a.createElement("div",{className:"card"},n.a.createElement("h2",null,"Upload CSV File"),n.a.createElement("input",{type:"file",accept:".csv, .txt",onChange:async e=>{const a=e.target.files[0];if(t(a),a){u(!0);const e=await y(a);m.a.parse(e,{header:!0,complete:e=>{r(e.data),o(e.data),d(e.data),u(!1)},error:e=>{console.error("Error parsing CSV:",e),u(!1)}})}},className:"mb-2"}),h&&n.a.createElement("p",null,"Loading data..."),!h&&a.length>0&&n.a.createElement("p",{className:"text-success"},"Loaded ",a.length," records.")),n.a.createElement("div",{className:"card"},n.a.createElement("h2",null,"Filters"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Series:"),n.a.createElement("input",{type:"text",name:"series",value:f.series,onChange:x,className:"form-input",placeholder:"Enter series name..."})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Number:"),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("input",{type:"number",name:"numberFrom",value:f.numberFrom,onChange:x,className:"form-input",placeholder:"From"}),n.a.createElement("input",{type:"number",name:"numberTo",value:f.numberTo,onChange:x,className:"form-input",placeholder:"To"}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Wishlists:"),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("input",{type:"number",name:"wishlistsFrom",value:f.wishlistsFrom,onChange:x,className:"form-input",placeholder:"From"}),n.a.createElement("input",{type:"number",name:"wishlistsTo",value:f.wishlistsTo,onChange:x,className:"form-input",placeholder:"To"}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Tag:"),n.a.createElement("input",{type:"text",name:"tag",value:f.tag,onChange:x,className:"form-input",placeholder:"Enter tag..."})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Editions:"),n.a.createElement("div",{className:"flex flex-wrap gap-2"},(0===a.length?[]:[...new Set(a.map(e=>e.edition))].sort((e,t)=>parseInt(e)-parseInt(t))).map(e=>n.a.createElement("button",{key:e,onClick:()=>(e=>{const t=[...f.editions];if(t.includes(e)){const a=t.indexOf(e);t.splice(a,1)}else t.push(e);const a=Object(s.a)(Object(s.a)({},f),{},{editions:t});N(a),setTimeout(()=>{w()},0)})(e),className:"chip ".concat(f.editions.includes(e)?"chip-blue":"chip-gray")},e)))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"flex flex-wrap gap-2"},n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"morphed",name:"morphed",checked:f.morphed,onChange:x,className:"checkbox"}),n.a.createElement("label",{htmlFor:"morphed",className:"checkbox-label"},"Morphed")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"trimmed",name:"trimmed",checked:f.trimmed,onChange:x,className:"checkbox"}),n.a.createElement("label",{htmlFor:"trimmed",className:"checkbox-label"},"Trimmed")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"frame",name:"frame",checked:f.frame,onChange:x,className:"checkbox"}),n.a.createElement("label",{htmlFor:"frame",className:"checkbox-label"},"With Frame")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"hasDyeName",name:"hasDyeName",checked:f.hasDyeName,onChange:x,className:"checkbox"}),n.a.createElement("label",{htmlFor:"hasDyeName",className:"checkbox-label"},"With dye.name")))),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("button",{onClick:()=>{N({series:"",numberFrom:"",numberTo:"",wishlistsFrom:"",wishlistsTo:"",editions:[],morphed:!1,trimmed:!1,frame:!1,hasDyeName:!1,tag:""}),o(a),d(a),b(0),g(!1)},className:"btn btn-secondary"},"Reset Filters"))),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"flex",style:{justifyContent:"space-between",marginBottom:"1rem"}},n.a.createElement("h2",null,"Results (",i.length,"/",c.length,")"),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("button",{onClick:()=>{const e=Math.ceil(c.length/50);if(p>=e||E)return b(0),g(!1),void d([...c]);const t=50*p,a=Math.min(t+50,c.length),l=c.slice(t,a),n=l.map(e=>e.code).join(", ");navigator.clipboard.writeText(n),alert("Skopiowano kody ".concat(t+1,"-").concat(a," z ").concat(c.length));const r=i.filter(e=>!l.some(t=>t.code===e.code));d(r),b(p+1),a>=c.length&&g(!0)},disabled:0===c.length,className:"btn ".concat(0===c.length?"btn-secondary":"btn-success")},(()=>{const e=Math.ceil(c.length/50);if(0===c.length)return"Copy Codes (max 50)";if(p>=e||E)return"Restore & Start Over";const t=50*p;return Math.min(t+50,c.length),"Copy Codes (".concat(t,"/").concat(c.length,")")})()),n.a.createElement("button",{onClick:()=>{let e="";for(let n=0;n<c.length;n+=50)e+=c.slice(n,n+50).map(e=>e.code).join(", ")+"\n";const t=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="card_codes.txt",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)},disabled:0===c.length,className:"btn ".concat(0===c.length?"btn-secondary":"btn-purple")},"Download as .txt"))),i.length>0?n.a.createElement("div",{style:{overflowX:"auto"}},n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Number"),n.a.createElement("th",null,"Edition"),n.a.createElement("th",null,"Character"),n.a.createElement("th",null,"Series"),n.a.createElement("th",null,"Quality"),n.a.createElement("th",null,"Wishlists"),n.a.createElement("th",null,"Tag"))),n.a.createElement("tbody",null,i.slice(0,100).map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",{style:{color:"#3b82f6",fontWeight:500}},e.code),n.a.createElement("td",null,e.number),n.a.createElement("td",null,e.edition),n.a.createElement("td",null,e.character),n.a.createElement("td",null,e.series),n.a.createElement("td",null,e.quality),n.a.createElement("td",null,e.wishlists),n.a.createElement("td",null,e.tag)))))):n.a.createElement("p",{style:{textAlign:"center",padding:"1rem"}},"No results matching the filter criteria."),i.length>100&&n.a.createElement("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem"}},"Showing first 100 of ",i.length," records."),c.length!==i.length&&n.a.createElement("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem",color:"#3b82f6"}},"Wy\u015bwietlanie tylko ",i.length," z ",c.length," rekord\xf3w (pozosta\u0142e zosta\u0142y ju\u017c skopiowane).")))};var d=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:r,getTTFB:c}=t;a(e),l(e),n(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i,null))),d()},6:function(e,t,a){e.exports=a(17)}},[[6,1,2]]]);
//# sourceMappingURL=main.c3c47bc0.chunk.js.map