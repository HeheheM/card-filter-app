{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["CardFilterApp","file","setFile","useState","data","setData","hiddenCodes","setHiddenCodes","Set","loading","setLoading","prefix","setPrefix","isDarkTheme","setIsDarkTheme","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","sortField","setSortField","sortDirection","setSortDirection","csvUrl","setCsvUrl","inputMethod","setInputMethod","urlError","setUrlError","filters","setFilters","codes","series","numberFrom","numberTo","wishlistsFrom","wishlistsTo","editions","morphed","trimmed","frame","hasDyeName","tag","noneTag","blacklistSeries","blacklistCharacter","blacklistTag","excludeFrame","excludeMorphed","excludeTrimmed","excludeDyeName","notFoundCodes","setNotFoundCodes","showCodesModal","setShowCodesModal","codesDisplayFormat","setCodesDisplayFormat","fullImage","setFullImage","filteredData","useMemo","length","results","trim","searchCodes","toLowerCase","split","map","c","filter","codeMap","Map","forEach","card","key","code","has","set","get","push","foundResults","foundCodesList","notFoundList","sc","some","s","includes","character","t","parseInt","number","wishlists","edition","useEffect","presentCodes","notFound","displayData","size","sortedDisplayData","sorted","sort","a","b","aVal","bVal","localeCompare","totalPages","Math","ceil","currentItems","startIndex","slice","handleSort","useCallback","field","prev","handleFilterChange","e","name","value","type","checked","target","_objectSpread","generateCodesForModal","content","i","line","join","concat","uniqueEditions","eds","Array","from","document","body","className","React","createElement","onChange","id","htmlFor","accept","async","uploadedFile","event","files","Papa","parse","header","skipEmptyLines","complete","error","console","placeholder","style","flex","onClick","endsWith","proxyUrl","encodeURIComponent","response","fetch","ok","Error","status","csvContent","text","message","disabled","ed","newEditions","applyFilters","resetFilters","copyCardCodes","alert","cardsToCopy","codesStr","navigator","clipboard","writeText","next","add","copyCardCodesOneLine","codeStr","downloadCardCodes","blob","Blob","url","URL","createObjectURL","href","download","appendChild","click","removeChild","revokeObjectURL","downloadCardCodesOneLine","primary","fallback","buildCardImageUrl","slugify","String","normalize","replace","charSlug","seriesSlug","src","alt","width","height","onError","currentTarget","dataset","triedFallback","onerror","quality","p","max","min","Number","stopPropagation","readOnly","rows","reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode","App"],"mappings":"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","file":"static/js/main.f4fc2fcd.chunk.js","sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport Papa from 'papaparse';\r\nimport './styles.css';\r\n\r\n// -----------------------------------------------------------------------------\r\n// OPTYMALIZACJA 1: Funkcja pomocnicza poza komponentem\r\n// Dziƒôki temu nie jest tworzona na nowo przy ka≈ºdym renderze.\r\n// -----------------------------------------------------------------------------\r\nconst buildCardImageUrl = (character, series, edition) => {\r\n  const slugify = (text) =>\r\n    String(text || '')\r\n      .normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\r\n      .toLowerCase()\r\n      .replace(/['‚Äô]/g, '')\r\n      .replace(/[^a-z0-9]+/g, '-')\r\n      .replace(/^-+|-+$/g, '');\r\n\r\n  const charSlug = slugify(character);\r\n  const seriesSlug = slugify(series);\r\n  const ed = String(edition).toLowerCase();\r\n\r\n  return {\r\n    primary: `https://d2l56h9h5tj8ue.cloudfront.net/images/cards/${charSlug}-${seriesSlug}-${ed}.jpg`,\r\n    fallback: `https://d2l56h9h5tj8ue.cloudfront.net/images/cards/${charSlug}-${ed}.jpg`\r\n  };\r\n};\r\n\r\nconst CardFilterApp = () => {\r\n  // ---------------------------------------------------------------------------\r\n  // STAN APLIKACJI\r\n  // ---------------------------------------------------------------------------\r\n  const [file, setFile] = useState(null);\r\n  const [data, setData] = useState([]); // G≈Ç√≥wne dane (surowe)\r\n  \r\n  // OPTYMALIZACJA 2: Zamiast trzymaƒá kopiƒô tablicy 'displayData',\r\n  // trzymamy tylko zbi√≥r kod√≥w, kt√≥re zosta≈Çy ukryte (skopiowane).\r\n  // To oszczƒôdza mn√≥stwo pamiƒôci RAM.\r\n  const [hiddenCodes, setHiddenCodes] = useState(new Set());\r\n  \r\n  const [loading, setLoading] = useState(false);\r\n  const [prefix, setPrefix] = useState('');\r\n  const [isDarkTheme, setIsDarkTheme] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(25); // Zmniejszono domy≈õlne obciƒÖ≈ºenie\r\n  const [sortField, setSortField] = useState(null);\r\n  const [sortDirection, setSortDirection] = useState('asc');\r\n  const [csvUrl, setCsvUrl] = useState('');\r\n  const [inputMethod, setInputMethod] = useState('file');\r\n  const [urlError, setUrlError] = useState('');\r\n\r\n  // Stan filtr√≥w\r\n  const [filters, setFilters] = useState({\r\n    codes: '',\r\n    series: '',\r\n    numberFrom: '',\r\n    numberTo: '',\r\n    wishlistsFrom: '',\r\n    wishlistsTo: '',\r\n    editions: [],\r\n    morphed: false,\r\n    trimmed: false,\r\n    frame: false,\r\n    hasDyeName: false,\r\n    tag: '',\r\n    noneTag: false,\r\n    blacklistSeries: '',\r\n    blacklistCharacter: '',\r\n    blacklistTag: '',\r\n    excludeFrame: false,\r\n    excludeMorphed: false,\r\n    excludeTrimmed: false,\r\n    excludeDyeName: false\r\n  });\r\n\r\n  const [notFoundCodes, setNotFoundCodes] = useState([]); // To zostawiamy jako stan dla UI\r\n  const [showCodesModal, setShowCodesModal] = useState(false);\r\n  const [codesDisplayFormat, setCodesDisplayFormat] = useState('50per');\r\n  const [fullImage, setFullImage] = useState(null);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // OPTYMALIZACJA 3: useMemo dla filtrowania\r\n  // React przeliczy to TYLKO gdy zmieniƒÖ siƒô 'data' lub 'filters'.\r\n  // ---------------------------------------------------------------------------\r\n  const filteredData = useMemo(() => {\r\n    if (!data.length) return [];\r\n    \r\n    let results = data;\r\n\r\n    // A. Filtrowanie po kodach (priorytet)\r\n    if (filters.codes.trim()) {\r\n      const searchCodes = filters.codes.toLowerCase().split(',').map(c => c.trim()).filter(c => c.length > 0);\r\n      \r\n      // Optymalizacja wyszukiwania kod√≥w (mapa zamiast wielokrotnego filter)\r\n      const codeMap = new Map();\r\n      data.forEach(card => {\r\n        const key = card.code.toLowerCase();\r\n        if(!codeMap.has(key)) codeMap.set(key, []);\r\n        codeMap.get(key).push(card);\r\n      });\r\n\r\n      const foundResults = [];\r\n      const foundCodesList = [];\r\n      const notFoundList = [];\r\n\r\n      searchCodes.forEach(sc => {\r\n        if (codeMap.has(sc)) {\r\n          foundResults.push(...codeMap.get(sc));\r\n          foundCodesList.push(sc);\r\n        } else {\r\n          notFoundList.push(sc);\r\n        }\r\n      });\r\n      \r\n      // Uwaga: Aktualizacja stanu wewnƒÖtrz renderowania (setNotFoundCodes) jest ryzykowna,\r\n      // ale w tym uk≈Çadzie zostawiamy to w useEffect poni≈ºej, aby nie zapƒôtliƒá.\r\n      return foundResults;\r\n    }\r\n\r\n    // B. Standardowe filtry\r\n    return results.filter(card => {\r\n        // Exclude / Blacklist (Szybkie odrzucanie)\r\n        if (filters.excludeMorphed && card.morphed === \"Yes\") return false;\r\n        if (filters.excludeTrimmed && card.trimmed === \"Yes\") return false;\r\n        if (filters.excludeFrame && card.frame && card.frame.trim() !== '') return false;\r\n        if (filters.excludeDyeName && card[\"dye.name\"] && card[\"dye.name\"].trim() !== '') return false;\r\n\r\n        if (filters.blacklistSeries && filters.blacklistSeries.split(',').some(s => card.series.toLowerCase().includes(s.trim().toLowerCase()))) return false;\r\n        if (filters.blacklistCharacter && filters.blacklistCharacter.split(',').some(c => card.character.toLowerCase().includes(c.trim().toLowerCase()))) return false;\r\n        if (filters.blacklistTag && filters.blacklistTag.split(',').some(t => (card.tag || '').toLowerCase().includes(t.trim().toLowerCase()))) return false;\r\n\r\n        // Include Filters\r\n        if (filters.series) {\r\n            const includedSeries = filters.series.toLowerCase().split(',').map(s => s.trim());\r\n            if (!includedSeries.some(s => card.series.toLowerCase().includes(s))) return false;\r\n        }\r\n        \r\n        if (filters.numberFrom && parseInt(card.number) < parseInt(filters.numberFrom)) return false;\r\n        if (filters.numberTo && parseInt(card.number) > parseInt(filters.numberTo)) return false;\r\n        if (filters.wishlistsFrom && parseInt(card.wishlists) < parseInt(filters.wishlistsFrom)) return false;\r\n        if (filters.wishlistsTo && parseInt(card.wishlists) > parseInt(filters.wishlistsTo)) return false;\r\n        \r\n        if (filters.editions.length > 0 && !filters.editions.includes(card.edition)) return false;\r\n        \r\n        if (filters.morphed && card.morphed !== \"Yes\") return false;\r\n        if (filters.trimmed && card.trimmed !== \"Yes\") return false;\r\n        if (filters.frame && (!card.frame || card.frame === \"\")) return false;\r\n        if (filters.hasDyeName && (!card[\"dye.name\"] || card[\"dye.name\"] === \"\")) return false;\r\n        \r\n        if (filters.noneTag) {\r\n            if (card.tag && card.tag.trim() !== '') return false;\r\n        } else if (filters.tag) {\r\n             if (!card.tag.toLowerCase().includes(filters.tag.toLowerCase())) return false;\r\n        }\r\n\r\n        return true;\r\n    });\r\n  }, [data, filters]);\r\n\r\n  // Efekt uboczny dla notFoundCodes (wyciƒÖgniƒôty z renderowania)\r\n  useEffect(() => {\r\n    if (filters.codes.trim()) {\r\n        const searchCodes = filters.codes.toLowerCase().split(',').map(c => c.trim()).filter(c => c.length > 0);\r\n        const presentCodes = new Set(data.map(c => c.code.toLowerCase()));\r\n        const notFound = searchCodes.filter(sc => !presentCodes.has(sc));\r\n        setNotFoundCodes(notFound);\r\n    } else {\r\n        setNotFoundCodes([]);\r\n    }\r\n  }, [filters.codes, data]);\r\n\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // OPTYMALIZACJA 4: Wy≈õwietlane dane (ukrywanie skopiowanych)\r\n  // ---------------------------------------------------------------------------\r\n  const displayData = useMemo(() => {\r\n    if (hiddenCodes.size === 0) return filteredData;\r\n    return filteredData.filter(card => !hiddenCodes.has(card.code));\r\n  }, [filteredData, hiddenCodes]);\r\n\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // OPTYMALIZACJA 5: Sortowanie\r\n  // ---------------------------------------------------------------------------\r\n  const sortedDisplayData = useMemo(() => {\r\n    if (!sortField) return displayData;\r\n    \r\n    const sorted = [...displayData];\r\n    sorted.sort((a, b) => {\r\n      if (['number', 'wishlists', 'edition', 'worker.effort'].includes(sortField)) {\r\n        const aVal = parseInt(a[sortField]) || 0;\r\n        const bVal = parseInt(b[sortField]) || 0;\r\n        return sortDirection === 'asc' ? aVal - bVal : bVal - aVal;\r\n      }\r\n      \r\n      const aVal = a[sortField] || '';\r\n      const bVal = b[sortField] || '';\r\n      return sortDirection === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);\r\n    });\r\n    return sorted;\r\n  }, [displayData, sortField, sortDirection]);\r\n\r\n  // Paginacja\r\n  const totalPages = Math.ceil(sortedDisplayData.length / itemsPerPage) || 1;\r\n  \r\n  const currentItems = useMemo(() => {\r\n    const startIndex = (currentPage - 1) * itemsPerPage;\r\n    return sortedDisplayData.slice(startIndex, startIndex + itemsPerPage);\r\n  }, [sortedDisplayData, currentPage, itemsPerPage]);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // HANDLERY (Obs≈Çuga zdarze≈Ñ)\r\n  // ---------------------------------------------------------------------------\r\n\r\n  const handleSort = useCallback((field) => {\r\n    if (sortField === field) {\r\n      setSortDirection(prev => {\r\n         if (prev === 'asc') return 'desc';\r\n         setSortField(null); // Reset przy trzecim klikniƒôciu\r\n         return 'asc';\r\n      });\r\n    } else {\r\n      setSortField(field);\r\n      setSortDirection('asc');\r\n    }\r\n  }, [sortField]);\r\n\r\n  const handleFileUpload = async (event) => {\r\n    const uploadedFile = event.target.files[0];\r\n    setFile(uploadedFile);\r\n    if (uploadedFile) {\r\n      setLoading(true);\r\n      Papa.parse(uploadedFile, {\r\n        header: true,\r\n        skipEmptyLines: true,\r\n        complete: (results) => {\r\n          setData(results.data);\r\n          setHiddenCodes(new Set()); // Reset ukrytych\r\n          setLoading(false);\r\n        },\r\n        error: (error) => { console.error(error); setLoading(false); }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleUrlLoad = async () => {\r\n    if (!csvUrl.trim()) { setUrlError('Please enter a URL'); return; }\r\n    if (!csvUrl.toLowerCase().endsWith('.csv')) { setUrlError('URL must point to a .csv file'); return; }\r\n    \r\n    setLoading(true); setUrlError(''); setFile(null);\r\n    try {\r\n      const proxyUrl = `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(csvUrl)}`;\r\n      const response = await fetch(proxyUrl);\r\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n      const csvContent = await response.text();\r\n      \r\n      Papa.parse(csvContent, {\r\n        header: true,\r\n        skipEmptyLines: true,\r\n        complete: (results) => {\r\n          if (!results.data || results.data.length === 0) { setUrlError('No data found'); setLoading(false); return; }\r\n          setData(results.data);\r\n          setHiddenCodes(new Set());\r\n          setLoading(false);\r\n        },\r\n        error: () => { setUrlError('Error parsing CSV'); setLoading(false); }\r\n      });\r\n    } catch (error) {\r\n      setUrlError(`Error: ${error.message}`);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n    setCurrentPage(1); // Reset strony przy zmianie filtra\r\n  };\r\n\r\n  const handleEditionChange = (edition) => {\r\n    setFilters(prev => {\r\n        const newEditions = prev.editions.includes(edition) \r\n            ? prev.editions.filter(e => e !== edition)\r\n            : [...prev.editions, edition];\r\n        return { ...prev, editions: newEditions };\r\n    });\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const resetFilters = () => {\r\n    setFilters({\r\n      codes: '', series: '', numberFrom: '', numberTo: '', wishlistsFrom: '', wishlistsTo: '',\r\n      editions: [], morphed: false, trimmed: false, frame: false, hasDyeName: false, tag: '', noneTag: false,\r\n      blacklistSeries: '', blacklistCharacter: '', blacklistTag: '', excludeFrame: false, excludeMorphed: false, excludeTrimmed: false, excludeDyeName: false\r\n    });\r\n    setSortField(null);\r\n    setHiddenCodes(new Set()); // Odkryj wszystkie\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const applyFilters = () => {\r\n     // Przycisk \"Apply Filters\" jest g≈Ç√≥wnie wizualny, bo filtry dzia≈ÇajƒÖ w czasie rzeczywistym,\r\n     // ale mo≈ºe s≈Çu≈ºyƒá do resetu paginacji lub ukrytych kart.\r\n     setCurrentPage(1);\r\n     setHiddenCodes(new Set());\r\n  };\r\n\r\n  // Kopiowanie (Batch 50)\r\n  const copyCardCodes = () => {\r\n    if (displayData.length === 0) {\r\n        // Je≈õli wszystko skopiowane, resetujemy widok\r\n        if (hiddenCodes.size > 0) {\r\n             setHiddenCodes(new Set());\r\n             alert(\"Restored all hidden cards!\");\r\n        }\r\n        return;\r\n    }\r\n\r\n    const batchSize = 50;\r\n    const cardsToCopy = displayData.slice(0, batchSize);\r\n    \r\n    const codesStr = cardsToCopy.map(card => prefix.trim() ? `${prefix} ${card.code}` : card.code).join(', ');\r\n    \r\n    navigator.clipboard.writeText(codesStr);\r\n    alert(`Copied ${cardsToCopy.length} codes`);\r\n\r\n    // Ukrywamy skopiowane\r\n    setHiddenCodes(prev => {\r\n        const next = new Set(prev);\r\n        cardsToCopy.forEach(c => next.add(c.code));\r\n        return next;\r\n    });\r\n  };\r\n\r\n  // Kopiowanie pojedyncze\r\n  const copyCardCodesOneLine = () => {\r\n    if (displayData.length === 0) {\r\n         if (hiddenCodes.size > 0) {\r\n             setHiddenCodes(new Set());\r\n             alert(\"Restored all hidden cards!\");\r\n        }\r\n        return;\r\n    }\r\n    \r\n    const card = displayData[0];\r\n    const codeStr = prefix.trim() ? `${prefix} ${card.code}` : card.code;\r\n    \r\n    navigator.clipboard.writeText(codeStr);\r\n    \r\n    setHiddenCodes(prev => {\r\n        const next = new Set(prev);\r\n        next.add(card.code);\r\n        return next;\r\n    });\r\n  };\r\n\r\n  const downloadCardCodes = () => {\r\n    const maxCodesPerLine = 50;\r\n    let content = '';\r\n    for (let i = 0; i < filteredData.length; i += maxCodesPerLine) {\r\n      const batch = filteredData.slice(i, i + maxCodesPerLine);\r\n      const line = batch.map(card => card.code).join(', ');\r\n      content += prefix.trim() ? `${prefix} ${line}\\n` : `${line}\\n`;\r\n    }\r\n    const blob = new Blob([content], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a'); a.href = url; a.download = 'card_codes.txt';\r\n    document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const downloadCardCodesOneLine = () => {\r\n    const content = filteredData.map(card => prefix.trim() ? `${prefix} ${card.code}` : card.code).join('\\n');\r\n    const blob = new Blob([content], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a'); a.href = url; a.download = 'card_codes_one_per_line.txt';\r\n    document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const generateCodesForModal = () => {\r\n    if (codesDisplayFormat === '50per') {\r\n         let content = '';\r\n         for (let i = 0; i < filteredData.length; i += 50) {\r\n             const batch = filteredData.slice(i, i + 50);\r\n             const line = batch.map(card => card.code).join(', ');\r\n             content += prefix.trim() ? `${prefix} ${line}\\n` : `${line}\\n`;\r\n         }\r\n         return content;\r\n    } else {\r\n         return filteredData.map(card => prefix.trim() ? `${prefix} ${card.code}` : card.code).join('\\n');\r\n    }\r\n  };\r\n\r\n  // Pobranie unikalnych edycji do filtr√≥w\r\n  const uniqueEditions = useMemo(() => {\r\n     const eds = new Set(data.map(c => c.edition));\r\n     return Array.from(eds).sort((a,b) => parseInt(a) - parseInt(b));\r\n  }, [data]);\r\n\r\n  // Theme effect\r\n  useEffect(() => {\r\n    document.body.className = isDarkTheme ? 'dark-theme' : '';\r\n  }, [isDarkTheme]);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // RENDER (UI)\r\n  // ---------------------------------------------------------------------------\r\n  return (\r\n    <div className=\"container\">\r\n      {/* Theme Toggle */}\r\n      <div className=\"theme-switch-container\">\r\n        <span className=\"theme-icon\">‚òÄÔ∏è</span>\r\n        <label className=\"theme-switch\">\r\n          <input type=\"checkbox\" checked={isDarkTheme} onChange={() => setIsDarkTheme(!isDarkTheme)} />\r\n          <span className=\"slider\"></span>\r\n        </label>\r\n        <span className=\"theme-icon\">üåô</span>\r\n      </div>\r\n      \r\n      <h1 className=\"header\">Card Filter App (Optimized)</h1>\r\n      \r\n      {/* 1. SEKCJA ≈ÅADOWANIA PLIKU */}\r\n      <div className=\"card\">\r\n        <h2>Load CSV Data</h2>\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Choose input method:</label>\r\n          <div className=\"flex gap-4\">\r\n            <div className=\"checkbox-container\">\r\n              <input type=\"radio\" id=\"file-method\" checked={inputMethod === 'file'} onChange={() => { setInputMethod('file'); setUrlError(''); }} className=\"checkbox\" />\r\n              <label htmlFor=\"file-method\" className=\"checkbox-label\">Upload File</label>\r\n            </div>\r\n            <div className=\"checkbox-container\">\r\n              <input type=\"radio\" id=\"url-method\" checked={inputMethod === 'url'} onChange={() => { setInputMethod('url'); setFile(null); }} className=\"checkbox\" />\r\n              <label htmlFor=\"url-method\" className=\"checkbox-label\">Load from URL</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {inputMethod === 'file' && (\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Select CSV or TXT file:</label>\r\n            <input type=\"file\" accept=\".csv, .txt\" onChange={handleFileUpload} className=\"form-input\" />\r\n          </div>\r\n        )}\r\n        \r\n        {inputMethod === 'url' && (\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">CSV file URL:</label>\r\n            <div className=\"flex gap-2\">\r\n              <input type=\"url\" value={csvUrl} onChange={(e) => setCsvUrl(e.target.value)} className=\"form-input\" placeholder=\"https://...\" style={{flex: 1}} />\r\n              <button onClick={handleUrlLoad} disabled={loading} className=\"btn btn-primary\">{loading ? 'Loading...' : 'Load CSV'}</button>\r\n            </div>\r\n            {urlError && <div className=\"url-error\"><p className=\"text-error\">{urlError}</p></div>}\r\n          </div>\r\n        )}\r\n\r\n        {loading && <p>Loading data...</p>}\r\n        {!loading && data.length > 0 && <p className=\"text-success\">Loaded {data.length} records.</p>}\r\n        \r\n        <div className=\"form-group mt-4\">\r\n          <label className=\"form-label\">Prefix for card codes:</label>\r\n          <input type=\"text\" value={prefix} onChange={(e) => setPrefix(e.target.value)} className=\"form-input\" placeholder=\"e.g. kt t1\" />\r\n        </div>\r\n      </div>\r\n      \r\n      {/* 2. SEKCJA FILTR√ìW */}\r\n      <div className=\"card\">\r\n        <h2>Filters</h2>\r\n        <div className=\"filter-section\">\r\n          <h3 className=\"filter-section-title\">Include Filters</h3>\r\n          \r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Search by Card Codes:</label>\r\n            <input type=\"text\" name=\"codes\" value={filters.codes} onChange={handleFilterChange} className=\"form-input\" placeholder=\"Enter codes separated by commas...\" />\r\n            {notFoundCodes.length > 0 && (\r\n              <div className=\"not-found-codes\"><p className=\"text-warning\"><strong>Not found:</strong> {notFoundCodes.join(', ')}</p></div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Series:</label>\r\n            <input type=\"text\" name=\"series\" value={filters.series} onChange={handleFilterChange} className=\"form-input\" disabled={!!filters.codes} placeholder=\"Comma-separated series...\" />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Number:</label>\r\n            <div className=\"flex gap-2\">\r\n              <input type=\"number\" name=\"numberFrom\" value={filters.numberFrom} onChange={handleFilterChange} className=\"form-input\" placeholder=\"From\" disabled={!!filters.codes} />\r\n              <input type=\"number\" name=\"numberTo\" value={filters.numberTo} onChange={handleFilterChange} className=\"form-input\" placeholder=\"To\" disabled={!!filters.codes} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n             <label className=\"form-label\">Wishlists:</label>\r\n             <div className=\"flex gap-2\">\r\n                <input type=\"number\" name=\"wishlistsFrom\" value={filters.wishlistsFrom} onChange={handleFilterChange} className=\"form-input\" placeholder=\"From\" disabled={!!filters.codes} />\r\n                <input type=\"number\" name=\"wishlistsTo\" value={filters.wishlistsTo} onChange={handleFilterChange} className=\"form-input\" placeholder=\"To\" disabled={!!filters.codes} />\r\n             </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n             <label className=\"form-label\">Tag:</label>\r\n             <div className=\"flex gap-2\">\r\n                <input type=\"text\" name=\"tag\" value={filters.tag} onChange={handleFilterChange} className=\"form-input\" placeholder=\"Tag...\" disabled={filters.noneTag || !!filters.codes} />\r\n                <button onClick={() => setFilters(prev => ({...prev, noneTag: !prev.noneTag}))} className={`btn ${filters.noneTag ? 'btn-primary' : 'btn-secondary'}`} disabled={!!filters.codes}>None Tag</button>\r\n             </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n             <label className=\"form-label\">Editions:</label>\r\n             <div className=\"flex flex-wrap gap-2\">\r\n                {uniqueEditions.map(ed => (\r\n                   <button key={ed} onClick={() => !filters.codes && handleEditionChange(ed)} className={`chip ${filters.editions.includes(ed) ? 'chip-blue' : 'chip-gray'} ${filters.codes ? 'opacity-50' : ''}`} disabled={!!filters.codes}>{ed}</button>\r\n                ))}\r\n             </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n             <div className=\"flex flex-wrap gap-2\">\r\n                {['morphed', 'trimmed', 'frame', 'hasDyeName'].map(field => (\r\n                   <div key={field} className=\"checkbox-container\">\r\n                      <input type=\"checkbox\" id={field} name={field} checked={filters[field]} onChange={handleFilterChange} className=\"checkbox\" disabled={!!filters.codes} />\r\n                      <label htmlFor={field} className=\"checkbox-label\">{field}</label>\r\n                   </div>\r\n                ))}\r\n             </div>\r\n          </div>\r\n          \r\n          <div className=\"flex gap-2 mt-4\">\r\n            <button onClick={applyFilters} className=\"btn btn-primary\">Apply Filters / Reset Hidden</button>\r\n            <button onClick={resetFilters} className=\"btn btn-secondary\">Reset Filters</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"filter-section-divider\"></div>\r\n\r\n        {/* Exclude Filters */}\r\n        <div className=\"filter-section\">\r\n           <h3 className=\"filter-section-title\">Exclude Filters (Blacklist)</h3>\r\n           <div className=\"form-group\">\r\n              <label className=\"form-label\">Exclude Series:</label>\r\n              <input type=\"text\" name=\"blacklistSeries\" value={filters.blacklistSeries} onChange={handleFilterChange} className=\"form-input\" />\r\n           </div>\r\n           <div className=\"form-group\">\r\n              <label className=\"form-label\">Exclude Characters:</label>\r\n              <input type=\"text\" name=\"blacklistCharacter\" value={filters.blacklistCharacter} onChange={handleFilterChange} className=\"form-input\" />\r\n           </div>\r\n           <div className=\"form-group\">\r\n              <label className=\"form-label\">Exclude Tags:</label>\r\n              <input type=\"text\" name=\"blacklistTag\" value={filters.blacklistTag} onChange={handleFilterChange} className=\"form-input\" />\r\n           </div>\r\n           <div className=\"form-group\">\r\n             <div className=\"flex flex-wrap gap-2\">\r\n                <div className=\"checkbox-container\">\r\n                   <input type=\"checkbox\" id=\"excludeFrame\" name=\"excludeFrame\" checked={filters.excludeFrame} onChange={handleFilterChange} className=\"checkbox\" />\r\n                   <label htmlFor=\"excludeFrame\" className=\"checkbox-label\">Exclude Frame</label>\r\n                </div>\r\n                {/* Mo≈ºesz dodaƒá pozosta≈Çe exclude checkboxy analogicznie */}\r\n             </div>\r\n           </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* 3. WYNIKI */}\r\n      <div className=\"card\">\r\n        <div className=\"results-header\">\r\n           <h2>Results {data.length > 0 ? `(${displayData.length}/${filteredData.length})` : \"\"}</h2>\r\n           <div className=\"results-actions\">\r\n              <button onClick={copyCardCodes} disabled={filteredData.length === 0} className={`btn ${filteredData.length === 0 ? 'btn-secondary' : 'btn-success'}`}>\r\n                 {displayData.length === 0 && filteredData.length > 0 ? \"Restore All\" : \"Copy 50\"}\r\n              </button>\r\n              <button onClick={copyCardCodesOneLine} disabled={filteredData.length === 0} className={`btn ${filteredData.length === 0 ? 'btn-secondary' : 'btn-success'}`}>\r\n                 Copy 1\r\n              </button>\r\n              <button onClick={downloadCardCodes} disabled={filteredData.length === 0} className=\"btn btn-purple\">DL 50</button>\r\n              <button onClick={downloadCardCodesOneLine} disabled={filteredData.length === 0} className=\"btn btn-purple\">DL 1</button>\r\n              <button onClick={() => setShowCodesModal(true)} disabled={filteredData.length === 0} className=\"btn btn-info\">Show Codes</button>\r\n           </div>\r\n        </div>\r\n\r\n        {displayData.length > 0 ? (\r\n           <div className=\"table-container\">\r\n             <table className=\"table\">\r\n               <thead>\r\n                 <tr>\r\n                   <th>Image</th>\r\n                   <th onClick={() => handleSort('code')} className=\"sortable-header\">Code {sortField === 'code' && (sortDirection === 'asc' ? '‚ñ≤' : '‚ñº')}</th>\r\n                   <th onClick={() => handleSort('number')} className=\"sortable-header\">Num {sortField === 'number' && (sortDirection === 'asc' ? '‚ñ≤' : '‚ñº')}</th>\r\n                   <th onClick={() => handleSort('edition')} className=\"sortable-header\">Ed {sortField === 'edition' && (sortDirection === 'asc' ? '‚ñ≤' : '‚ñº')}</th>\r\n                   <th onClick={() => handleSort('character')} className=\"sortable-header\">Character</th>\r\n                   <th onClick={() => handleSort('series')} className=\"sortable-header\">Series</th>\r\n                   <th>Quality</th>\r\n                   <th onClick={() => handleSort('wishlists')} className=\"sortable-header\">WL</th>\r\n                   <th>Tag</th>\r\n                 </tr>\r\n               </thead>\r\n               <tbody>\r\n                 {currentItems.map((card) => {\r\n                   const { primary, fallback } = buildCardImageUrl(card.character, card.series, card.edition);\r\n                   // KLUCZOWY ELEMENT OPTYMALIZACJI: key={card.code} zamiast index\r\n                   return (\r\n                     <tr key={card.code}>\r\n                       <td>\r\n                         <img \r\n                           src={primary}\r\n                           alt=\"\"\r\n                           className=\"card-thumb zoomable\"\r\n                           loading=\"lazy\"\r\n                           width=\"56\" \r\n                           height=\"80\"\r\n                           onError={(e) => {\r\n                              if (!e.currentTarget.dataset.triedFallback) {\r\n                                 e.currentTarget.dataset.triedFallback = \"true\";\r\n                                 e.currentTarget.src = fallback;\r\n                              } else {\r\n                                 e.currentTarget.onerror = null;\r\n                                 e.currentTarget.src = 'https://via.placeholder.com/56x80?text=No+Img';\r\n                              }\r\n                           }}\r\n                           onClick={() => setFullImage(primary)}\r\n                         />\r\n                       </td>\r\n                       <td className=\"code-cell\">{card.code}</td>\r\n                       <td>{card.number}</td>\r\n                       <td>{card.edition}</td>\r\n                       <td>{card.character}</td>\r\n                       <td>{card.series}</td>\r\n                       <td>{card.quality}</td>\r\n                       <td>{card.wishlists}</td>\r\n                       <td>{card.tag}</td>\r\n                     </tr>\r\n                   );\r\n                 })}\r\n               </tbody>\r\n             </table>\r\n           </div>\r\n        ) : (\r\n           <p className=\"no-results\">{file ? \"No results (or all copied).\" : \"No data loaded.\"}</p>\r\n        )}\r\n\r\n        {/* Paginacja */}\r\n        {displayData.length > 0 && (\r\n          <div className=\"pagination-container\">\r\n            <button onClick={() => setCurrentPage(1)} disabled={currentPage === 1} className=\"btn\">&laquo;</button>\r\n            <button onClick={() => setCurrentPage(p => Math.max(1, p-1))} disabled={currentPage === 1} className=\"btn\">&lsaquo;</button>\r\n            <div className=\"page-info\">\r\n               <span>Page</span>\r\n               <input type=\"number\" min=\"1\" max={totalPages} value={currentPage} onChange={(e) => setCurrentPage(Number(e.target.value))} className=\"page-input form-input\" />\r\n               <span>of {totalPages}</span>\r\n            </div>\r\n            <button onClick={() => setCurrentPage(p => Math.min(totalPages, p+1))} disabled={currentPage === totalPages} className=\"btn\">&rsaquo;</button>\r\n            <button onClick={() => setCurrentPage(totalPages)} disabled={currentPage === totalPages} className=\"btn\">&raquo;</button>\r\n            \r\n            <div className=\"items-per-page\">\r\n               <span>Show</span>\r\n               <select value={itemsPerPage} onChange={(e) => { setItemsPerPage(Number(e.target.value)); setCurrentPage(1); }} className=\"items-select form-input\">\r\n                  <option value=\"10\">10</option>\r\n                  <option value=\"25\">25</option>\r\n                  <option value=\"50\">50</option>\r\n                  <option value=\"100\">100 (High RAM)</option>\r\n               </select>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      {showCodesModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowCodesModal(false)}>\r\n           <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n              <div className=\"modal-header\"><h3>Codes</h3><button className=\"modal-close\" onClick={() => setShowCodesModal(false)}>√ó</button></div>\r\n              <div className=\"modal-controls\">\r\n                 <div className=\"modal-format-toggle\">\r\n                    <button onClick={() => setCodesDisplayFormat('50per')} className={`btn ${codesDisplayFormat==='50per'?'btn-primary':'btn-secondary'}`}>50/line</button>\r\n                    <button onClick={() => setCodesDisplayFormat('1per')} className={`btn ${codesDisplayFormat==='1per'?'btn-primary':'btn-secondary'}`}>1/line</button>\r\n                 </div>\r\n                 <button onClick={() => { navigator.clipboard.writeText(generateCodesForModal()); alert('Copied!'); }} className=\"btn btn-success\">Copy All</button>\r\n              </div>\r\n              <div className=\"modal-body\"><textarea className=\"codes-textarea\" value={generateCodesForModal()} readOnly rows={15} /></div>\r\n           </div>\r\n        </div>\r\n      )}\r\n\r\n      {fullImage && (\r\n         <div className=\"image-modal-overlay\" onClick={() => setFullImage(null)}>\r\n            <div className=\"image-modal-content\" onClick={e => e.stopPropagation()}>\r\n               <img src={fullImage} alt=\"Full\" className=\"image-modal-full\" />\r\n               <button className=\"image-modal-close\" onClick={() => setFullImage(null)}>√ó</button>\r\n            </div>\r\n         </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardFilterApp;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}