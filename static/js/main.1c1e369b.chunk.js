(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,t){},16:function(e,a,t){},17:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(5),r=t.n(c),s=(t(15),t(1)),m=t(3),o=t.n(m);t(16);var i=()=>{const[e,a]=Object(l.useState)(null),[t,c]=Object(l.useState)([]),[r,m]=Object(l.useState)([]),[i,d]=Object(l.useState)([]),[u,h]=Object(l.useState)(!1),[p,b]=Object(l.useState)(0),[E,g]=Object(l.useState)(!1),[f,N]=Object(l.useState)(""),[x,y]=Object(l.useState)(!0),[k,C]=Object(l.useState)(1),[v,w]=Object(l.useState)(10),[T,F]=Object(l.useState)(null),[j,S]=Object(l.useState)("asc"),[O,L]=Object(l.useState)({series:"",numberFrom:"",numberTo:"",wishlistsFrom:"",wishlistsTo:"",editions:[],morphed:!1,trimmed:!1,frame:!1,hasDyeName:!1,tag:"",noneTag:!1,blacklistSeries:"",blacklistCharacter:"",blacklistTag:"",excludeFrame:!1,excludeMorphed:!1,excludeTrimmed:!1,excludeDyeName:!1}),I=Math.ceil(i.length/v),D=e=>{T===e?"asc"===j?S("desc"):(F(null),S("asc")):(F(e),S("asc"))};Object(l.useEffect)(()=>{document.title="Karuta Cards Tool"},[]),Object(l.useEffect)(()=>{const e=localStorage.getItem("theme");e&&y("dark"===e),M("dark"===e||null===e&&x)},[]);const M=e=>{e?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")},R=e=>new Promise((a,t)=>{const l=new FileReader;l.onload=(e=>a(e.target.result)),l.onerror=(e=>t(e)),l.readAsText(e)});Object(l.useEffect)(()=>{e||(c([]),m([]),d([]))},[e]);const P=()=>{let e=[...t];if(O.series&&(e=e.filter(e=>e.series.toLowerCase().includes(O.series.toLowerCase()))),O.numberFrom&&(e=e.filter(e=>parseInt(e.number)>=parseInt(O.numberFrom))),O.numberTo&&(e=e.filter(e=>parseInt(e.number)<=parseInt(O.numberTo))),O.wishlistsFrom&&(e=e.filter(e=>parseInt(e.wishlists)>=parseInt(O.wishlistsFrom))),O.wishlistsTo&&(e=e.filter(e=>parseInt(e.wishlists)<=parseInt(O.wishlistsTo))),O.editions.length>0&&(e=e.filter(e=>O.editions.includes(e.edition))),O.morphed&&(e=e.filter(e=>"Yes"===e.morphed)),O.trimmed&&(e=e.filter(e=>"Yes"===e.trimmed)),O.frame&&(e=e.filter(e=>""!==e.frame)),O.hasDyeName&&(e=e.filter(e=>""!==e["dye.name"])),O.tag&&(e=e.filter(e=>e.tag.toLowerCase().includes(O.tag.toLowerCase()))),O.noneTag&&(e=e.filter(e=>!e.tag||""===e.tag.trim())),O.blacklistSeries){const a=O.blacklistSeries.toLowerCase().split(",").map(e=>e.trim());e=e.filter(e=>{const t=e.series.toLowerCase();return!a.some(e=>t.includes(e))})}if(O.blacklistCharacter){const a=O.blacklistCharacter.toLowerCase().split(",").map(e=>e.trim());e=e.filter(e=>{const t=e.character.toLowerCase();return!a.some(e=>t.includes(e))})}if(O.blacklistTag){const a=O.blacklistTag.toLowerCase().split(",").map(e=>e.trim());e=e.filter(e=>{const t=(e.tag||"").toLowerCase();return!a.some(e=>t.includes(e))})}O.excludeFrame&&(e=e.filter(e=>!e.frame||""===e.frame.trim())),O.excludeMorphed&&(e=e.filter(e=>"Yes"!==e.morphed)),O.excludeTrimmed&&(e=e.filter(e=>"Yes"!==e.trimmed)),O.excludeDyeName&&(e=e.filter(e=>!e["dye.name"]||""===e["dye.name"].trim())),m(e),d(e),C(1),b(0),g(!1)},U=e=>{const{name:a,value:t,type:l,checked:n}=e.target;L(Object(s.a)(Object(s.a)({},O),{},{[a]:"checkbox"===l?n:t}))},A=()=>{L({series:"",numberFrom:"",numberTo:"",wishlistsFrom:"",wishlistsTo:"",editions:[],morphed:!1,trimmed:!1,frame:!1,hasDyeName:!1,tag:"",noneTag:!1,blacklistSeries:"",blacklistCharacter:"",blacklistTag:"",excludeFrame:!1,excludeMorphed:!1,excludeTrimmed:!1,excludeDyeName:!1}),F(null),S("asc"),m(t),d(t),b(0),g(!1)};return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"theme-switch-container"},n.a.createElement("span",{className:"theme-icon"},"\u2600\ufe0f"),n.a.createElement("label",{className:"theme-switch"},n.a.createElement("input",{type:"checkbox",checked:x,onChange:()=>{const e=!x;y(e),M(e),localStorage.setItem("theme",e?"dark":"light")}}),n.a.createElement("span",{className:"slider"})),n.a.createElement("span",{className:"theme-icon"},"\ud83c\udf19")),n.a.createElement("h1",{className:"header"},"Card Filter Application"),n.a.createElement("div",{className:"card"},n.a.createElement("h2",null,"Upload CSV File"),n.a.createElement("input",{type:"file",accept:".csv, .txt",onChange:async e=>{const t=e.target.files[0];if(a(t),t){h(!0);const e=await R(t);o.a.parse(e,{header:!0,complete:e=>{c(e.data),m(e.data),d(e.data),h(!1)},error:e=>{console.error("Error parsing CSV:",e),h(!1)}})}},className:"mb-2"}),u&&n.a.createElement("p",null,"Loading data..."),!u&&t.length>0&&n.a.createElement("p",{className:"text-success"},"Loaded ",t.length," records."),!u&&0===t.length&&!e&&n.a.createElement("p",null,"No data loaded. Please upload a CSV or TXT file."),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Prefix for card codes:"),n.a.createElement("input",{type:"text",value:f,onChange:e=>N(e.target.value),className:"form-input",placeholder:"Enter prefix (e.g. 'kt t1')"}),n.a.createElement("p",{className:"text-gray-500 text-sm mt-1"},"This text will be added before each card code when copying or downloading."))),n.a.createElement("div",{className:"card"},n.a.createElement("h2",null,"Filters"),n.a.createElement("div",{className:"filter-section"},n.a.createElement("h3",{className:"filter-section-title"},"Include Filters"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Series:"),n.a.createElement("input",{type:"text",name:"series",value:O.series,onChange:U,className:"form-input",placeholder:"Enter series name..."})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Number:"),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("input",{type:"number",name:"numberFrom",value:O.numberFrom,onChange:U,className:"form-input",placeholder:"From"}),n.a.createElement("input",{type:"number",name:"numberTo",value:O.numberTo,onChange:U,className:"form-input",placeholder:"To"}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Wishlists:"),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("input",{type:"number",name:"wishlistsFrom",value:O.wishlistsFrom,onChange:U,className:"form-input",placeholder:"From"}),n.a.createElement("input",{type:"number",name:"wishlistsTo",value:O.wishlistsTo,onChange:U,className:"form-input",placeholder:"To"}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Tag:"),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("input",{type:"text",name:"tag",value:O.tag,onChange:U,className:"form-input",placeholder:"Enter tag...",disabled:O.noneTag}),n.a.createElement("button",{onClick:()=>L(Object(s.a)(Object(s.a)({},O),{},{noneTag:!O.noneTag,tag:O.noneTag?O.tag:""})),className:"btn ".concat(O.noneTag?"btn-primary":"btn-secondary"),title:"Show only cards with no tag"},"None Tag")),O.noneTag&&n.a.createElement("p",{className:"text-info",style:{fontSize:"0.75rem",marginTop:"0.25rem"}},"Showing only cards with no tag. Tag search is disabled.")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Editions:"),n.a.createElement("div",{className:"flex flex-wrap gap-2"},(0===t.length?[]:[...new Set(t.map(e=>e.edition))].sort((e,a)=>parseInt(e)-parseInt(a))).map(e=>n.a.createElement("button",{key:e,onClick:()=>(e=>{const a=[...O.editions];if(a.includes(e)){const t=a.indexOf(e);a.splice(t,1)}else a.push(e);L(Object(s.a)(Object(s.a)({},O),{},{editions:a}))})(e),className:"chip ".concat(O.editions.includes(e)?"chip-blue":"chip-gray")},e)))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"flex flex-wrap gap-2"},n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"morphed",name:"morphed",checked:O.morphed,onChange:U,className:"checkbox"}),n.a.createElement("label",{htmlFor:"morphed",className:"checkbox-label"},"Morphed")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"trimmed",name:"trimmed",checked:O.trimmed,onChange:U,className:"checkbox"}),n.a.createElement("label",{htmlFor:"trimmed",className:"checkbox-label"},"Trimmed")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"frame",name:"frame",checked:O.frame,onChange:U,className:"checkbox"}),n.a.createElement("label",{htmlFor:"frame",className:"checkbox-label"},"With Frame")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"hasDyeName",name:"hasDyeName",checked:O.hasDyeName,onChange:U,className:"checkbox"}),n.a.createElement("label",{htmlFor:"hasDyeName",className:"checkbox-label"},"With dye.name")))),n.a.createElement("div",{className:"flex gap-2",style:{marginTop:"1rem"}},n.a.createElement("button",{onClick:P,className:"btn btn-primary"},"Apply Filters"),n.a.createElement("button",{onClick:A,className:"btn btn-secondary"},"Reset Filters"))),n.a.createElement("div",{className:"filter-section-divider"}),n.a.createElement("div",{className:"filter-section"},n.a.createElement("h3",{className:"filter-section-title"},"Exclude Filters (Blacklist)"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Exclude Series:"),n.a.createElement("input",{type:"text",name:"blacklistSeries",value:O.blacklistSeries,onChange:U,className:"form-input",placeholder:"Enter series to exclude (comma-separated)"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Exclude Characters:"),n.a.createElement("input",{type:"text",name:"blacklistCharacter",value:O.blacklistCharacter,onChange:U,className:"form-input",placeholder:"Enter characters to exclude (comma-separated)"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-label"},"Exclude Tags:"),n.a.createElement("input",{type:"text",name:"blacklistTag",value:O.blacklistTag,onChange:U,className:"form-input",placeholder:"Enter tags to exclude (comma-separated)"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"flex flex-wrap gap-2"},n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"excludeFrame",name:"excludeFrame",checked:O.excludeFrame,onChange:U,className:"checkbox"}),n.a.createElement("label",{htmlFor:"excludeFrame",className:"checkbox-label"},"Exclude Cards with Frame")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"excludeMorphed",name:"excludeMorphed",checked:O.excludeMorphed,onChange:U,className:"checkbox"}),n.a.createElement("label",{htmlFor:"excludeMorphed",className:"checkbox-label"},"Exclude Morphed Cards")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"excludeTrimmed",name:"excludeTrimmed",checked:O.excludeTrimmed,onChange:U,className:"checkbox"}),n.a.createElement("label",{htmlFor:"excludeTrimmed",className:"checkbox-label"},"Exclude Trimmed Cards")),n.a.createElement("div",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",id:"excludeDyeName",name:"excludeDyeName",checked:O.excludeDyeName,onChange:U,className:"checkbox"}),n.a.createElement("label",{htmlFor:"excludeDyeName",className:"checkbox-label"},"Exclude Cards with dye.name")))),n.a.createElement("div",{className:"flex gap-2",style:{marginTop:"1rem"}},n.a.createElement("button",{onClick:P,className:"btn btn-primary"},"Apply Filters"),n.a.createElement("button",{onClick:A,className:"btn btn-secondary"},"Reset Filters")))),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"flex",style:{justifyContent:"space-between",marginBottom:"1rem"}},n.a.createElement("h2",null,"Results ",t.length>0?"(".concat(i.length,"/").concat(r.length,")"):""),n.a.createElement("div",{className:"flex gap-2"},n.a.createElement("button",{onClick:()=>{const e=Math.ceil(r.length/50);if(p>=e||E)return b(0),g(!1),void d([...r]);const a=50*p,t=Math.min(a+50,r.length),l=r.slice(a,t);let n;n=f.trim()?l.map(e=>"".concat(f," ").concat(e.code)).join(", "):l.map(e=>e.code).join(", "),navigator.clipboard.writeText(n),alert("Copied codes ".concat(a+1,"-").concat(t," of ").concat(r.length));const c=i.filter(e=>!l.some(a=>a.code===e.code));d(c),b(p+1),t>=r.length&&g(!0)},disabled:0===r.length,className:"btn ".concat(0===r.length?"btn-secondary":"btn-success"),title:"Copy up to 50 codes separated by commas"},(()=>{const e=Math.ceil(r.length/50);if(0===r.length)return"Copy Codes (max 50)";if(p>=e||E)return"Restore & Start Over";const a=50*p;return Math.min(a+50,r.length),"Copy Codes (".concat(a,"/").concat(r.length,")")})()),n.a.createElement("button",{onClick:()=>{const e=Math.ceil(r.length/50);if(p>=e||E)return b(0),g(!1),void d([...r]);const a=50*p,t=Math.min(a+50,r.length),l=r.slice(a,t);let n;n=f.trim()?l.map(e=>"".concat(f," ").concat(e.code)).join("\n"):l.map(e=>e.code).join("\n"),navigator.clipboard.writeText(n),alert("Copied codes ".concat(a+1,"-").concat(t," of ").concat(r.length," (one per line)"));const c=i.filter(e=>!l.some(a=>a.code===e.code));d(c),b(p+1),t>=r.length&&g(!0)},disabled:0===r.length,className:"btn ".concat(0===r.length?"btn-secondary":"btn-success"),title:"Copy up to 50 codes with one code per line"},"Copy (1 per line)"),n.a.createElement("button",{onClick:()=>{let e="";for(let n=0;n<r.length;n+=50){const a=r.slice(n,n+50);f.trim()?e+=f+" "+a.map(e=>e.code).join(", ")+"\n":e+=a.map(e=>e.code).join(", ")+"\n"}const a=new Blob([e],{type:"text/plain"}),t=URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download="card_codes.txt",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t)},disabled:0===r.length,className:"btn ".concat(0===r.length?"btn-secondary":"btn-purple"),title:"Download with up to 50 codes per line"},"Download (50 max)"),n.a.createElement("button",{onClick:()=>{let e="";e=f.trim()?r.map(e=>"".concat(f," ").concat(e.code)).join("\n"):r.map(e=>e.code).join("\n");const a=new Blob([e],{type:"text/plain"}),t=URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download="card_codes_one_per_line.txt",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t)},disabled:0===r.length,className:"btn ".concat(0===r.length?"btn-secondary":"btn-purple"),title:"Download with one code per line"},"Download (1 per line)"))),i.length>0?n.a.createElement("div",{style:{overflowX:"auto",maxHeight:"500px",overflowY:"auto"}},n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{onClick:()=>D("code"),className:"sortable-header"},"Code ","code"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")),n.a.createElement("th",{onClick:()=>D("number"),className:"sortable-header"},"Number ","number"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")),n.a.createElement("th",{onClick:()=>D("edition"),className:"sortable-header"},"Edition ","edition"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")),n.a.createElement("th",{onClick:()=>D("character"),className:"sortable-header"},"Character ","character"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")),n.a.createElement("th",{onClick:()=>D("series"),className:"sortable-header"},"Series ","series"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")),n.a.createElement("th",{onClick:()=>D("quality"),className:"sortable-header"},"Quality ","quality"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")),n.a.createElement("th",{onClick:()=>D("wishlists"),className:"sortable-header"},"Wishlists ","wishlists"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")),n.a.createElement("th",{onClick:()=>D("frame"),className:"sortable-header"},"Frame ","frame"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")),n.a.createElement("th",{onClick:()=>D("tag"),className:"sortable-header"},"Tag ","tag"===T&&n.a.createElement("span",null,"asc"===j?"\u25b2":"\u25bc")))),n.a.createElement("tbody",null,(()=>{const e=(k-1)*v,a=e+v;return(e=>{if(!T)return e;const a=[...e];return a.sort((e,a)=>{if(["number","wishlists","edition"].includes(T)){const t=parseInt(e[T])||0,l=parseInt(a[T])||0;return"asc"===j?t-l:l-t}const t=e[T]||"",l=a[T]||"";return"asc"===j?t.localeCompare(l):l.localeCompare(t)}),a})(i).slice(e,a)})().map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",{style:{color:"#3b82f6",fontWeight:500}},e.code),n.a.createElement("td",null,e.number),n.a.createElement("td",null,e.edition),n.a.createElement("td",null,e.character),n.a.createElement("td",null,e.series),n.a.createElement("td",null,e.quality),n.a.createElement("td",null,e.wishlists),n.a.createElement("td",null,e.frame||"\u2014"),n.a.createElement("td",null,e.tag)))))):n.a.createElement("p",{style:{textAlign:"center",padding:"1rem"}},e?"No results matching the filter criteria.":"No data loaded. Please upload a file to see results."),i.length>0&&n.a.createElement("div",{className:"pagination-container",style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem"}},n.a.createElement("button",{onClick:()=>C(1),disabled:1===k,className:"btn ".concat(1===k?"btn-secondary":"btn-primary"),title:"First Page"},"\xab"),n.a.createElement("button",{onClick:()=>C(e=>Math.max(e-1,1)),disabled:1===k,className:"btn ".concat(1===k?"btn-secondary":"btn-primary"),title:"Previous Page"},"\u2039"),n.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},n.a.createElement("span",null,"Page"),n.a.createElement("input",{type:"number",min:"1",max:I,value:k,onChange:e=>{const a=parseInt(e.target.value);!isNaN(a)&&a>=1&&a<=I&&C(a)},style:{width:"50px",textAlign:"center",padding:"0.25rem"},className:"form-input"}),n.a.createElement("span",null,"of ",I)),n.a.createElement("button",{onClick:()=>C(e=>Math.min(e+1,I)),disabled:k===I,className:"btn ".concat(k===I?"btn-secondary":"btn-primary"),title:"Next Page"},"\u203a"),n.a.createElement("button",{onClick:()=>C(I),disabled:k===I,className:"btn ".concat(k===I?"btn-secondary":"btn-primary"),title:"Last Page"},"\xbb"),n.a.createElement("div",{style:{marginLeft:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"}},n.a.createElement("span",null,"Show"),n.a.createElement("select",{value:v,onChange:e=>{const a=parseInt(e.target.value);w(a),C(1)},className:"form-input",style:{padding:"0.25rem"}},n.a.createElement("option",{value:"5"},"5"),n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"25"},"25"),n.a.createElement("option",{value:"50"},"50"),n.a.createElement("option",{value:"100"},"100")),n.a.createElement("span",null,"per page"))),r.length!==i.length&&n.a.createElement("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem",color:"#3b82f6"}},"Displaying only ",i.length," of ",r.length," records (remaining have already been copied).")))};var d=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,18)).then(a=>{let{getCLS:t,getFID:l,getFCP:n,getLCP:c,getTTFB:r}=a;t(e),l(e),n(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i,null))),d()},6:function(e,a,t){e.exports=t(17)}},[[6,1,2]]]);
//# sourceMappingURL=main.1c1e369b.chunk.js.map